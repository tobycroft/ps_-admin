import{d as w,u as L,r as u,a as F,_ as S,b as a,o as i,c as h,e as l,w as _,F as x,f as A,g as R,h as n,t as v,i as k,j,R as I,k as M}from"./index.d9354779.js";import{u as V}from"./user.70d4cfe1.js";import{u as g}from"./school.237b7c2f.js";import{u as b}from"./family.2e4e7a58.js";import"./request.fc4b7f65.js";const $=w({name:"CustomMenu",setup(){const t=L(),d=(e,c)=>{console.log(e,c)},s=(e,c)=>{console.log(e,c)},o=u(F[0].children);return{handleOpen:d,handleClose:s,menuListRef:o,handleMenuTitle:e=>e&&e.meta&&e.meta.title?e.meta.title:"\u672A\u547D\u540D",onSubMenuClick:e=>{console.log("routerPath :>> ",e),t.replace(e)}}}});const O={class:"el-menu-contrainer"};function P(t,d,s,o,m,p){const e=a("el-icon"),c=a("el-menu-item"),C=a("el-sub-menu"),y=a("el-menu");return i(),h("div",O,[l(y,{"default-active":"2",class:"el-menu-vertical-demo",onOpen:t.handleOpen,onClose:t.handleClose},{default:_(()=>[(i(!0),h(x,null,A(t.menuListRef,r=>(i(),R(C,{key:r.path,index:r.path},{title:_(()=>[l(e),n("span",null,v(t.handleMenuTitle(r)),1)]),default:_(()=>[(i(!0),h(x,null,A(r.children,f=>(i(),R(c,{key:f.path,index:f.path,onClick:W=>t.onSubMenuClick(f.path)},{default:_(()=>[k(v(f.meta.title),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["onOpen","onClose"])])}const N=S($,[["render",P],["__scopeId","data-v-1b9c4007"]]);function T(){g().getSchoolGradeList(),g().getSchoolClassList(),b().reqFamilyRoleListApi(),b().reqFamilyTypeListApi()}const q={name:"CustomLayout",components:{CustomMenu:N},setup(){const t=g(),d=V(),s=u(),o=u(d.getSchoolUserInfo),m=u("https://th.bing.com/th/id/OIP.FPXCAFQlqji01hPxcgVX9AAAAA?w=220&h=219&c=7&r=0&o=5&dpr=2&pid=1.7"),p=u(""),e=u("https://th.bing.com/th/id/OIP.FPXCAFQlqji01hPxcgVX9AAAAA?w=220&h=219&c=7&r=0&o=5&dpr=2&pid=1.7");return T(),j(()=>{s.value=t.getSchoolInfo,e.value=s.value.icon,s.value.icon&&(m.value=s.value.icon),s.value.name&&(p.value=s.value.name),o.value.wx_img&&(e.value=o.value.wx_img)}),{RouterLink:I,RouterView:M,projectImgRef:m,projectNameRef:p,userAvatarRef:e,schoolUserInfoRef:o}}};const B={class:"custom-layout-container"},U={class:"flex"},X={class:"project-info-box flex-start"},D={class:"project-title-style"},z={class:"user-info-box flex-start"},E={class:"user-info-style flex-start"},G={class:"user-name-style"},Q=k("[\u9000\u51FA]"),H={class:"flex-start align-start"},J={class:"router-view-box"};function K(t,d,s,o,m,p){const e=a("el-avatar"),c=a("el-button"),C=a("CustomMenu"),y=a("RouterView"),r=a("el-scrollbar");return i(),h("div",B,[n("header",U,[n("div",X,[l(e,{size:28,src:o.projectImgRef},null,8,["src"]),n("p",D,v(o.projectNameRef),1)]),n("div",z,[n("div",E,[l(e,{size:32,src:o.userAvatarRef},null,8,["src"]),n("p",G,v(o.schoolUserInfoRef.username),1)]),l(c,{class:"exit-btn-style",type:"primary",link:""},{default:_(()=>[Q]),_:1})])]),n("main",H,[l(C),n("div",J,[l(r,{class:"el-scroll-bar-style"},{default:_(()=>[l(y)]),_:1})])])])}const se=S(q,[["render",K],["__scopeId","data-v-fa757cf9"]]);export{se as default};
