import{_ as M,d as w,r as i,o as s,c as r,a as _,w as d,u as $,b as m,e as I,F as k,f as R,g,h as a,n as C,t as y,i as b,j as x,k as L,R as j,l as V,m as S}from"./index.8b62e2d4.js";import{u as N}from"./user.e859a846.js";import{u as A}from"./school.45971ec0.js";import"./request.d58524f5.js";const B=w({name:"CustomMenu",setup(){const t=$(),h=m(I[0].children),f=m();return{menuListRef:h,activeMenuItem:f,handleMenuTitle:n=>n&&n.meta&&n.meta.title?n.meta.title:"\u672A\u547D\u540D",onSubMenuClick:n=>{console.log("routerPath :>> ",n),f.value=n,t.replace(n)}}}}),T={class:"el-menu-contrainer"},U={key:0},z={key:1};function F(t,h,f,o,u,n){const c=i("el-menu-item"),p=i("el-sub-menu"),v=i("el-menu");return s(),r("div",T,[_(v,{"default-active":"2",class:"el-menu-vertical-demo","background-color":"#2A3764","text-color":"#949ab1","active-text-color":"#fff",onOpen:t.handleOpen,onClose:t.handleClose},{default:d(()=>[(s(!0),r(k,null,R(t.menuListRef,e=>(s(),r("div",{key:e.path},[e.children?(s(),r("div",U,[e.meta.hiden?x("",!0):(s(),g(p,{key:0,index:e.path},{title:d(()=>[a("i",{class:C(["iconfont",e.meta.icon])},null,2),a("span",null,y(t.handleMenuTitle(e)),1)]),default:d(()=>[(s(!0),r(k,null,R(e.children,l=>(s(),r(k,{key:l.path},[l.meta.hiden?x("",!0):(s(),g(c,{key:0,class:C(["menu-item-style",{"active-bg-style":t.activeMenuItem===l.path}]),index:l.path,onClick:P=>t.onSubMenuClick(l.path)},{default:d(()=>[b(y(l.meta.title),1)]),_:2},1032,["class","index","onClick"]))],64))),128))]),_:2},1032,["index"]))])):(s(),r("div",z,[e.meta.hiden?x("",!0):(s(),g(c,{key:0,class:C(["menu-parent-item-style",{"active-bg-style":t.activeMenuItem===e.path}]),index:e.path,onClick:l=>t.onSubMenuClick(e.path)},{default:d(()=>[a("i",{class:C(["iconfont",e.meta.icon])},null,2),b(" "+y(e.meta.title),1)]),_:2},1032,["class","index","onClick"]))]))]))),128))]),_:1},8,["onOpen","onClose"])])}const O=M(B,[["render",F],["__scopeId","data-v-aa1d095f"]]),E={name:"CustomLayout",components:{CustomMenu:O},setup(){const t=$(),h=A(),f=N(),o=m(),u=m(),n=m(""),c=m(""),p=m(""),v=()=>{console.log("login() :>> ",S()),S().getLoginInfo("",-1,""),t.push({path:"/login"})};return L(()=>{o.value=h.getSchoolInfo,u.value=f.getSchoolUserInfo,o.value.icon&&(n.value=o.value.icon),o.value.name&&(c.value=o.value.name),u.value.wx_img&&(p.value=u.value.wx_img)}),{RouterLink:j,RouterView:V,projectImgRef:n,projectNameRef:c,userAvatarRef:p,schoolUserInfoRef:u,exitSystem:v}}};const D={class:"custom-layout-container"},q={class:"flex"},G={class:"project-info-box flex-start"},H={class:"project-title-style"},J={class:"user-info-box flex-start"},K={class:"user-info-style flex-start"},Q={class:"user-name-style"},W=b("[\u9000\u51FA]"),X={class:"flex-start align-start"},Y={class:"router-view-box"};function Z(t,h,f,o,u,n){const c=i("el-avatar"),p=i("el-button"),v=i("CustomMenu"),e=i("RouterView"),l=i("el-scrollbar");return s(),r("div",D,[a("header",q,[a("div",G,[_(c,{size:28,src:o.projectImgRef},null,8,["src"]),a("p",H,y(o.projectNameRef),1)]),a("div",J,[a("div",K,[_(c,{size:32,src:o.userAvatarRef},null,8,["src"]),a("p",Q,y(o.schoolUserInfoRef.username),1)]),_(p,{class:"exit-btn-style",type:"primary",link:"",onClick:o.exitSystem},{default:d(()=>[W]),_:1},8,["onClick"])])]),a("main",X,[_(v),a("div",Y,[_(l,{class:"el-scroll-bar-style"},{default:d(()=>[_(e)]),_:1})])])])}const se=M(E,[["render",Z],["__scopeId","data-v-b159e5d1"]]);export{se as default};
