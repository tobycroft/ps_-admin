import{d as w,u as M,r as m,a as I,_ as $,b as _,o as s,c as i,e as d,w as p,F as g,f as R,g as k,h as a,n as C,t as y,i as b,j as x,k as L,R as j,l as V,m as S}from"./index.12680ef6.js";import{u as N}from"./user.767df87e.js";import{u as A}from"./school.65b5def9.js";const B=w({name:"CustomMenu",setup(){const n=M(),f=(e,u)=>{console.log(e,u)},h=(e,u)=>{console.log(e,u)},t=m(I[0].children),l=m();return{handleOpen:f,handleClose:h,menuListRef:t,activeMenuItem:l,handleMenuTitle:e=>e&&e.meta&&e.meta.title?e.meta.title:"\u672A\u547D\u540D",onSubMenuClick:e=>{console.log("routerPath :>> ",e),l.value=e,n.replace(e)}}}});const O={class:"el-menu-contrainer"},T={key:0},U={key:1};function z(n,f,h,t,l,v){const c=_("el-menu-item"),e=_("el-sub-menu"),u=_("el-menu");return s(),i("div",O,[d(u,{"default-active":"2",class:"el-menu-vertical-demo","background-color":"#2A3764","text-color":"#949ab1","active-text-color":"#fff",onOpen:n.handleOpen,onClose:n.handleClose},{default:p(()=>[(s(!0),i(g,null,R(n.menuListRef,o=>(s(),i("div",{key:o.path},[o.children?(s(),i("div",T,[o.meta.hiden?x("",!0):(s(),k(e,{key:0,index:o.path},{title:p(()=>[a("i",{class:C(["iconfont",o.meta.icon])},null,2),a("span",null,y(n.handleMenuTitle(o)),1)]),default:p(()=>[(s(!0),i(g,null,R(o.children,r=>(s(),i(g,{key:r.path},[r.meta.hiden?x("",!0):(s(),k(c,{key:0,class:C(["menu-item-style",{"active-bg-style":n.activeMenuItem===r.path}]),index:r.path,onClick:P=>n.onSubMenuClick(r.path)},{default:p(()=>[b(y(r.meta.title),1)]),_:2},1032,["class","index","onClick"]))],64))),128))]),_:2},1032,["index"]))])):(s(),i("div",U,[o.meta.hiden?x("",!0):(s(),k(c,{key:0,class:C(["menu-parent-item-style",{"active-bg-style":n.activeMenuItem===o.path}]),index:o.path,onClick:r=>n.onSubMenuClick(o.path)},{default:p(()=>[a("i",{class:C(["iconfont",o.meta.icon])},null,2),b(" "+y(o.meta.title),1)]),_:2},1032,["class","index","onClick"]))]))]))),128))]),_:1},8,["onOpen","onClose"])])}const D=$(B,[["render",z],["__scopeId","data-v-da6ea59a"]]),F={name:"CustomLayout",components:{CustomMenu:D},setup(){const n=M(),f=A(),h=N(),t=m(),l=m(),v=m(""),c=m(""),e=m(""),u=()=>{console.log("login() :>> ",S()),S().getLoginInfo("",-1,""),n.push({path:"/login"})};return L(()=>{t.value=f.getSchoolInfo,l.value=h.getSchoolUserInfo,t.value.icon&&(v.value=t.value.icon),t.value.name&&(c.value=t.value.name),l.value.wx_img&&(e.value=l.value.wx_img)}),{RouterLink:j,RouterView:V,projectImgRef:v,projectNameRef:c,userAvatarRef:e,schoolUserInfoRef:l,exitSystem:u}}};const E={class:"custom-layout-container"},q={class:"flex"},G={class:"project-info-box flex-start"},H={class:"project-title-style"},J={class:"user-info-box flex-start"},K={class:"user-info-style flex-start"},Q={class:"user-name-style"},W=b("[\u9000\u51FA]"),X={class:"flex-start align-start"},Y={class:"router-view-box"};function Z(n,f,h,t,l,v){const c=_("el-avatar"),e=_("el-button"),u=_("CustomMenu"),o=_("RouterView"),r=_("el-scrollbar");return s(),i("div",E,[a("header",q,[a("div",G,[d(c,{size:28,src:t.projectImgRef},null,8,["src"]),a("p",H,y(t.projectNameRef),1)]),a("div",J,[a("div",K,[d(c,{size:32,src:t.userAvatarRef},null,8,["src"]),a("p",Q,y(t.schoolUserInfoRef.username),1)]),d(e,{class:"exit-btn-style",type:"primary",link:"",onClick:t.exitSystem},{default:p(()=>[W]),_:1},8,["onClick"])])]),a("main",X,[d(u),a("div",Y,[d(r,{class:"el-scroll-bar-style"},{default:p(()=>[d(o)]),_:1})])])])}const ne=$(F,[["render",Z],["__scopeId","data-v-b159e5d1"]]);export{ne as default};
