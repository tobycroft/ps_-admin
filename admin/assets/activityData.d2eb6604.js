import{h as b}from"./moment.9709ab41.js";import{r as y,u as F}from"./school.51a33d4f.js";import{_ as M,b as m,v as U,r as i,o as c,c as g,h as s,a as e,w as a,t as l,F as w,f as L,g as v,i as S}from"./index.87c97b1a.js";const T=async d=>await y.post("https://api.fsa.familyeducation.org.cn/v1/lecture/host/recent_list2",d);const N={class:"table-container"},x={style:{display:"flex","align-items":"center"}},W={style:{"margin-left":"4px"}},V=S("\u67E5\u770B"),k={class:"flex-start",style:{margin:"18px 0 0 0"}},G={class:"flex"},j={class:"record-char"},H={__name:"activityData",setup(d){const u={background:"#f6f8fa",height:"60px"},p=m([]),E=t=>b(t).format("YYYY\u5E74MM\u6708DD\u65E5 HH:mm"),_=m(0),C=m(1),A=t=>{C.value=t},R=async()=>{const t={host_name:F().schoolInfo.name||"",limit:10,page:C.value},r=await T(t);r&&r.data&&(p.value=r.data,_.value=r.total)};return U(()=>{R()}),(t,r)=>{const o=i("el-table-column"),D=i("el-avatar"),h=i("el-tag"),f=i("el-button"),I=i("el-table"),O=i("el-pagination");return c(),g("div",null,[s("div",N,[e(I,{data:p.value,style:{width:"100%"},"header-cell-style":u},{default:a(()=>[e(o,{prop:"id",label:"\u6392\u5E8F",width:"100",align:"center"}),e(o,{label:"\u8BB2\u5E08",width:"280",align:"center"},{default:a(({row:n})=>[s("div",x,[e(D,{src:n.instruction_info.img,size:26},null,8,["src"]),s("span",W,l(n.instruction_info.name),1)])]),_:1}),e(o,{prop:"title",label:"\u4E3B\u9898"}),e(o,{label:"\u4E3B\u9898\u7C7B\u578B",width:"280",align:"center"},{default:a(({row:n})=>[(c(!0),g(w,null,L(n.common_tag,P=>(c(),v(h,{style:{margin:"4px"},key:P.id},{default:a(()=>[S(l(P.name),1)]),_:2},1024))),128))]),_:1}),e(o,{prop:"host_info.name",label:"\u4E3E\u529E\u5355\u4F4D"}),e(o,{prop:"visitor",label:"\u53C2\u4E0E\u4EBA\u6570",width:"140"}),e(o,{label:"\u65F6\u95F4",width:"220",align:"center"},{default:a(({row:n})=>[s("span",null,l(E(n.start_date)),1)]),_:1}),e(o,{label:"\u64CD\u4F5C",align:"center"},{default:a(({row:n})=>[e(f,{link:""},{default:a(()=>[V]),_:1})]),_:1})]),_:1},8,["data"])]),s("div",k,[s("div",G,[s("span",j,"\u5171"+l(_.value)+"\u6761\u8BB0\u5F55",1),e(O,{background:"","page-size":10,"pager-count":5,layout:"prev, pager, next",total:_.value,onCurrentChange:A},null,8,["total"])])])])}}},Y=M(H,[["__scopeId","data-v-7a729cc8"]]);export{Y as default};
