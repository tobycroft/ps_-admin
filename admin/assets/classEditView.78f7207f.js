import{_ as P,I as T,V as M,b as w,v as j,u as Q,r,o as d,c as p,a as t,w as a,h as f,B as o,j as V,F as I,f as x,g as k,i as g,x as z,y as D}from"./index.333305f4.js";import{r as G,b as H,c as J}from"./teacher.9227a006.js";import{u}from"./school.30e3f22c.js";const K=_=>(z("data-v-9e62889a"),_=_(),D(),_),O={class:"notice-add-view-container"},W=K(()=>f("div",{class:"card-header"},[f("span",null,"\u7F16\u8F91\u73ED\u7EA7")],-1)),X={class:"flex-center",style:{"padding-top":"20px"}},Z=g("\u91CD\u7F6E"),$=g("\u5B8C\u6210"),ee={__name:"classEditView",setup(_){let n=T().query;console.log(n);let e=M({title:"",year:"",teacherName:"",class_id:"",teacher_id:""});const m=w(0),E=()=>{n.id&&(e.title=n.title,e.year=n.year,e.teacherName=n.name,e.teacher_id=Number(n.teacher_id),e.class_id=Number(n.class_id),m.value=Number(n.id))},N=u().classList,h=w([]),C=async()=>{const i={teacher_id:e.teacher_id||0,year:e.year,class_id:e.class_id||0,title:e.title,content:"",school_id:u().schoolInfo.id};await H(i)},L=async()=>{const i={teacher_id:e.teacher_id,year:e.year,class_id:e.class_id,id:m.value,title:e.title,school_id:u().schoolInfo.id};await J(i)},q=async()=>{const i={school_id:u().schoolInfo.id,page:1,limit:999},s=await G(i);h.value=s.data};j(()=>{E(),q()});const A=Q(),S=async()=>{m.value?await L():await C(),A.push({path:"/classEditSuccessView"})},B=()=>{e.year="",e.title="",e.teacherName="",e.teacher_id=0,e.class_id=0};return(i,s)=>{const F=r("el-input"),c=r("el-form-item"),R=r("el-date-picker"),y=r("el-option"),v=r("el-select"),b=r("el-button"),U=r("el-form"),Y=r("el-card");return d(),p("div",O,[t(Y,{class:"box-card"},{header:a(()=>[W]),default:a(()=>[f("div",X,[t(U,{"label-position":"left","label-width":"100px",model:o(e),style:{width:"540px"},ref:"ruleFormRef"},{default:a(()=>[t(c,{label:"\u73ED\u7EA7\u540D\u79F0\uFF1A"},{default:a(()=>[t(F,{modelValue:o(e).title,"onUpdate:modelValue":s[0]||(s[0]=l=>o(e).title=l),placeholder:"\u8BF7\u8F93\u5165\u73ED\u7EA7\u540D\u79F0"},null,8,["modelValue"])]),_:1}),V(` <el-form-item label="\u73ED\u7EA7\u4EBA\u6570\uFF1A">\r
            <el-input\r
              v-model="formLabelAlign.name"\r
              placeholder="\u8BF7\u8F93\u5165\u73ED\u7EA7\u4EBA\u6570"\r
            />\r
          </el-form-item> `),V(` <el-form-item label="\u6240\u5C5E\u5E74\u7EA7\uFF1A">\r
            <el-select\r
              style="width: 100%"\r
              v-model="formLabelAlign.value1"\r
              class="m-2"\r
              placeholder="\u8BF7\u9009\u62E9\u73ED\u7EA7\u6240\u5C5E\u5E74\u7EA7"\r
            >\r
              <el-option\r
                v-for="item in options"\r
                :key="item.value"\r
                :label="item.label"\r
                :value="item.value"\r
              />\r
            </el-select>\r
          </el-form-item> `),t(c,{label:"\u5165\u5B66\u5E74\u4EFD"},{default:a(()=>[t(R,{style:{width:"100%"},modelValue:o(e).year,"onUpdate:modelValue":s[1]||(s[1]=l=>o(e).year=l),type:"year","value-format":"YYYY",placeholder:"\u8BF7\u9009\u62E9\u5165\u5B66\u5E74\u4EFD"},null,8,["modelValue"])]),_:1}),t(c,{label:"\u73ED\u7EA7\uFF1A"},{default:a(()=>[t(v,{style:{width:"100%"},modelValue:o(e).class_id,"onUpdate:modelValue":s[2]||(s[2]=l=>o(e).class_id=l),class:"m-2",placeholder:"\u8BF7\u9009\u62E9\u73ED\u7EA7"},{default:a(()=>[(d(!0),p(I,null,x(o(N),l=>(d(),k(y,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(c,{label:"\u73ED\u4E3B\u4EFB\uFF1A"},{default:a(()=>[t(v,{style:{width:"100%"},modelValue:o(e).teacher_id,"onUpdate:modelValue":s[3]||(s[3]=l=>o(e).teacher_id=l),class:"m-2",placeholder:"\u8BF7\u9009\u62E9\u73ED\u4E3B\u4EFB"},{default:a(()=>[(d(!0),p(I,null,x(h.value,l=>(d(),k(y,{key:l.name,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(c,null,{default:a(()=>[t(b,{onClick:B},{default:a(()=>[Z]),_:1}),t(b,{type:"primary",onClick:S},{default:a(()=>[$]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})])}}},oe=P(ee,[["__scopeId","data-v-9e62889a"],["__file","E:/work/parents_school_institution_pc/src/views/classManagement/classEditView/classEditView.vue"]]);export{oe as default};
