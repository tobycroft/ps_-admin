import{_ as R,u as te,b as v,v as q,o as i,c as d,h as e,t as a,x as N,y as O,r as P,C as c,D as n,n as L,B as F,Q as D,j as h,a as I,w as ae,Z as se,$ as oe,F as E,f as A,i as le,d as ce,k as ne,g as ie}from"./index.48027c1d.js";import{a as de,b as G}from"./datacenter.89ea1308.js";import{u as V}from"./school.a3d2d3a4.js";import{_ as z,a as W,b as Q,c as Z}from"./six_border.441dd958.js";import{_ as T,a as re,b as ue,c as me}from"./medal3.4b0e1b53.js";import{u as _e}from"./teacher.c931911a.js";import{h as H}from"./handleView.4bb17486.js";import{s as he,z as ve}from"./study.55f8e5fa.js";import{h as x}from"./moment.9709ab41.js";import{g as ye}from"./ak.02252990.js";import{_ as pe}from"./nodata_status.23a8fbbc.js";const J=t=>(N("data-v-aef5c2f2"),t=t(),O(),t),fe={class:"all-complete-box flex"},ge={class:"left-box"},ke={class:"num"},we=J(()=>e("span",{class:"per-char"},"%",-1)),Ie=J(()=>e("span",{class:"per-char"},"\u5168\u6821\u7D2F\u8BA1\u5B8C\u6210\u6CE8\u518C\u7387",-1)),$e={__name:"PerAllComplete",setup(t){const s=te(),u=()=>{s.push({path:"/CompletionRate"})},r=v(0),l=async()=>{const y={school_id:V().schoolInfo.id},m=await de(y);if(m){const o=m.parent_count||0,p=m.student_should_count||0;p?r.value=Math.ceil(o/p*100):r.value=100}};return q(()=>{l()}),(y,m)=>(i(),d("div",fe,[e("div",ge,[e("span",ke,a(r.value),1),we,Ie]),e("div",{class:"look-char",onClick:u},"\u67E5\u770B\u8BE6\u60C5")]))}},Ce=R($e,[["__scopeId","data-v-aef5c2f2"],["__file","E:/work/parents_school_institution_pc/src/views/dataCenter/studyReportForm/components/PerAllComplete.vue"]]);const M=t=>(N("data-v-f8381cbf"),t=t(),O(),t),xe={class:"grade-class-rank-container"},De={class:"rank-left"},be={class:"rank-img",src:z,alt:""},Se={class:"rank-img",src:W,alt:""},Me={class:"rank-img",src:Q,alt:""},Ye={class:"rank-cic"},Ee=M(()=>e("img",{class:"six-img",src:Z,alt:""},null,-1)),Ae={class:"rank-num"},Fe={class:"right-data-wrap"},Re={class:"progress-complete"},Te={class:"progress-box"},Be={class:"flex"},Ve={class:"gc-char"},Ne={class:"cp-char"},Oe={key:0,class:"progress"},Ue={class:"fire-icon",src:T,alt:"fire"},Pe={class:"progress"},Le={class:"fire-icon",src:T,alt:"fire"},je={class:"progress"},Ke={class:"fire-icon",src:T,alt:"fire"},qe={key:0,class:"per-char"},Ge={key:1,class:"per-char"},ze={key:2,class:"per-char"},We={class:"data-box flex"},Qe={class:"data-detail-wrap"},Ze=M(()=>e("span",{class:"data-char"},"\u6570\u636E\u6982\u89C8",-1)),He={class:"data-item"},Je={class:"num-char"},Xe=M(()=>e("div",{class:"char"},"\u5B66\u4E60\u4EBA\u6B21",-1)),et={class:"data-item"},tt={class:"num-char"},at=M(()=>e("div",{class:"char"},"\u5E74\u7EA7\u4EBA\u6570",-1)),st={class:"data-item"},ot={class:"num-char"},lt={class:"char"},ct={class:"data-item"},nt={class:"num-char"},it=M(()=>e("div",{class:"char"},"\u6BCF\u65E5\u4E00\u5B66",-1)),dt={class:"data-item"},rt={class:"num-char"},ut=M(()=>e("div",{class:"char"},"\u6BCF\u5468\u4E00\u505A",-1)),mt={class:"data-item"},_t={class:"num-char"},ht=M(()=>e("div",{class:"char nomar"},"\u6BCF\u6708\u4E00\u8BFE",-1)),vt={class:"detail-char"},yt={class:"class-item-wrap"},pt={class:"flex"},ft={class:"class-sec"},gt={class:"class-char"},kt={class:"teacher-sec flex"},wt={class:"teacher-char"},It=M(()=>e("span",{class:"teacher-char"},"\u5B66\u4E60\u5B8C\u6210\u7387",-1)),$t={class:"progress-wrap"},Ct={class:"progress-wrap"},xt={class:"progress-wrap"},Dt={class:"count-sec flex"},bt={class:"flex"},St={class:"count-tag"},Mt={class:"count-tag"},Yt={class:"medal-img",src:re,alt:""},Et={class:"medal-img",src:ue,alt:""},At={class:"medal-img",src:me,alt:""},Ft={class:"no-char"},Rt=le("NO: "),Tt={class:"no-num"},Bt={__name:"GradeClassRank",props:{completeItem:{type:Object},completeIndex:{type:Number,default:0},startDate:{type:String,default:""},endDate:{type:String,default:""},studyType:{type:String,default:""},rankMode:{type:Number,default:1}},setup(t){const s=t,u=v([]),r=async f=>{const g={school_id:V().schoolInfo.id,limit:30,page:1,rank_mode:"class",start_date:s.startDate,end_date:s.endDate,study_type:s.studyType,year:f},$=await G(g);u.value=$},l=v(!1),y=f=>{l.value=!l.value,l.value&&r(f)},m=(f,g)=>{const $=_e().teacherList;for(const _ of $)if(_.year==f&&_.class_id==g)return _.name},o=f=>Math.ceil(Number(f)*100),p=(f,g)=>({isUp:f-g>0,isShow:f-g!=0,numAbs:Math.abs(f-g)});return(f,g)=>{const $=P("el-icon");return i(),d("div",xe,[e("div",De,[c(e("img",be,null,512),[[n,t.completeIndex==0]]),c(e("img",Se,null,512),[[n,t.completeIndex==1]]),c(e("img",Me,null,512),[[n,t.completeIndex==2]]),c(e("div",Ye,[Ee,e("span",Ae,a(t.completeIndex+1),1)],512),[[n,t.completeIndex>2]]),c(e("div",{class:L(["ranked-tag",p(t.completeItem.rank_index_last,t.completeItem.rank_index).isUp?"":"green"])}," \u8F83\u4E0A"+a(t.rankMode==1?"\u5468":"\u6708")+a(p(t.completeItem.rank_index_last,t.completeItem.rank_index).isUp?"\u4E0A\u5347":"\u4E0B\u964D")+a(p(t.completeItem.rank_index_last,t.completeItem.rank_index).numAbs)+"\u540D ",3),[[n,p(t.completeItem.rank_index_last,t.completeItem.rank_index).isShow]])]),e("div",Fe,[e("div",Re,[e("div",Te,[e("div",Be,[e("span",Ve,a(F(H)(t.completeItem.year).name),1),e("span",Ne,"\u672C"+a(t.rankMode==1?"\u5468":"\u6708")+"\u5B66\u4E60\u5B8C\u6210\u7387",1)]),t.studyType=="daily"?(i(),d("div",Oe,[e("div",{class:"progress-active",style:D(`width: ${o(t.completeItem.daily_parent_ratio)>=100?100:o(t.completeItem.daily_parent_ratio)}%`)},null,4),c(e("img",Ue,null,512),[[n,o(t.completeItem.daily_parent_ratio)>=100]])])):h("v-if",!0),c(e("div",Pe,[e("div",{class:"progress-active",style:D(`width: ${o(t.completeItem.weekly_parent_ratio)>=100?100:o(t.completeItem.weekly_parent_ratio)}%`)},null,4),c(e("img",Le,null,512),[[n,o(t.completeItem.weekly_parent_ratio)>=100]])],512),[[n,t.studyType=="weekly"]]),c(e("div",je,[e("div",{class:"progress-active",style:D(`width: ${o(t.completeItem.monthy_parent_ratio)>=100?100:o(t.completeItem.monthy_parent_ratio)}%`)},null,4),c(e("img",Ke,null,512),[[n,o(t.completeItem.monthy_parent_ratio)>=100]])],512),[[n,t.studyType=="monthy"]])]),t.studyType=="daily"?(i(),d("span",qe,a(o(t.completeItem.daily_parent_ratio))+"%",1)):h("v-if",!0),t.studyType=="weekly"?(i(),d("span",Ge,a(o(t.completeItem.weekly_parent_ratio))+"%",1)):h("v-if",!0),t.studyType=="monthy"?(i(),d("span",ze,a(o(t.completeItem.monthy_parent_ratio))+"%",1)):h("v-if",!0)]),e("div",We,[e("div",Qe,[Ze,e("div",He,[e("div",Je,a(t.completeItem.complete_parent),1),Xe]),e("div",et,[e("div",tt,a(t.completeItem.student_num),1),at]),e("div",st,[e("div",ot,a(t.completeItem.rank_index_last),1),e("div",lt,a(t.rankMode==1?"\u4E0A\u5468\u6392\u540D":"\u4E0A\u6708\u6392\u540D"),1)]),h(` <div class="data-item">\r
            <div class="num-char">0</div>\r
            <div class="char">\u4E0A\u6708\u6392\u540D</div>\r
          </div> `),e("div",ct,[e("div",nt,a(o(t.completeItem.daily_parent_ratio))+"% ",1),it]),e("div",dt,[e("div",rt,a(o(t.completeItem.weekly_parent_ratio))+"% ",1),ut]),e("div",mt,[e("div",_t,a(o(t.completeItem.monthy_parent_ratio))+"% ",1),ht])]),e("div",{class:"sw-btn",onClick:g[0]||(g[0]=_=>y(t.completeItem.year))},[e("span",vt,a(l.value?"\u6536\u8D77":"\u67E5\u770B")+"\u5E74\u7EA7\u5404\u73ED\u8BE6\u60C5",1),I($,null,{default:ae(()=>[c(I(F(se),{class:"arr-icon"},null,512),[[n,l.value]]),c(I(F(oe),{class:"arr-icon"},null,512),[[n,!l.value]])]),_:1})])]),c(e("div",yt,[(i(!0),d(E,null,A(u.value,(_,b)=>(i(),d("div",{class:"class-item",key:b},[e("div",pt,[e("div",ft,[e("span",gt,a(_.class_id)+"\u73ED",1),h(' <span class="rank-char"> \u5E76\u5217\u7B2C\u4E00 </span> ')]),c(e("span",{class:"per-char"},a(o(_.daily_parent_ratio))+"%",513),[[n,t.studyType=="daily"]]),c(e("span",{class:"per-char"},a(o(_.weekly_parent_ratio))+"%",513),[[n,t.studyType=="weekly"]]),c(e("span",{class:"per-char"},a(o(_.monthy_parent_ratio))+"%",513),[[n,t.studyType=="monthy"]])]),e("div",kt,[e("span",wt,"\u73ED\u4E3B\u4EFB\uFF1A"+a(m(_.year,_.class_id)),1),It]),c(e("div",$t,[e("div",{class:"progress-item",style:D(`width: ${o(_.daily_parent_ratio)}%`)},null,4)],512),[[n,t.studyType=="daily"]]),c(e("div",Ct,[e("div",{class:"progress-item",style:D(`width: ${o(_.weekly_parent_ratio)}%`)},null,4)],512),[[n,t.studyType=="weekly"]]),c(e("div",xt,[e("div",{class:"progress-item",style:D(`width: ${o(_.monthy_parent_ratio)}%`)},null,4)],512),[[n,t.studyType=="monthy"]]),e("div",Dt,[e("div",bt,[e("div",St,"\u5B66\u4E60\u4EBA\u6B21\uFF1A"+a(_.complete_parent),1),e("div",Mt,"\u73ED\u7EA7\u4EBA\u6570\uFF1A"+a(_.student_num),1)]),c(e("img",Yt,null,512),[[n,b==0]]),c(e("img",Et,null,512),[[n,b==1]]),c(e("img",At,null,512),[[n,b==2]]),c(e("span",Ft,[Rt,e("span",Tt,a(b+1),1)],512),[[n,b>2]])])]))),128))],512),[[n,l.value]])])])}}},Vt=R(Bt,[["__scopeId","data-v-f8381cbf"],["__file","E:/work/parents_school_institution_pc/src/views/dataCenter/studyReportForm/components/GradeClassRank.vue"]]);function Nt(){const t=v({}),s=v({}),u=async()=>{const y={school_id:V().getSchoolInfo.id,type:"term"},m=await he(y);t.value=m},r=async()=>{const y={school_id:V().getSchoolInfo.id},m=await ve(y);s.value=m};return u(),r(),{studyDashboardCompleteCountRef:t,studyDashboardCompleteDailyRef:s}}const Ot=ce({name:"CompletedAmountOverview",props:{dataSource:{type:Object,default:()=>({})},dataSourceAvg:{type:Object,default:()=>({})}},setup(t){const s=v({total:{title:"\u603B\u8BBF\u95EE\u91CF",icon:"overview_total_icon_img",num:0,tag:{title:"\u4ECA\u65E5\u65B0\u589E",num:0},averageDaily:{title:"\u65E5\u5747\u8BBF\u95EE\u91CF",num:0}},daily:{title:"\u6BCF\u65E5\u4E00\u5B66\u603B\u5B66\u4E60\u91CF",icon:"overview_daily_icon_img",num:0,tag:{title:"\u4ECA\u65E5\u65B0\u589E",num:0},averageDaily:{title:"\u65E5\u5747\u5B66\u4E60\u91CF",num:0}},weekly:{title:"\u6BCF\u5468\u4E00\u505A\u603B\u5B8C\u6210\u91CF",icon:"overview_weekly_icon_img",num:0,tag:{title:"\u4ECA\u65E5\u65B0\u589E",num:0},averageDaily:{title:"\u65E5\u5747\u5B8C\u6210\u91CF",num:0}},monthy:{title:"\u6BCF\u6708\u4E00\u8BFE\u603B\u5B66\u4E60\u91CF",icon:"overview_monthly_icon_img",num:0,tag:{title:"\u4ECA\u65E5\u65B0\u589E",num:0},averageDaily:{title:"\u65E5\u5747\u5B66\u4E60\u91CF",num:0}}}),u=v(t.dataSource),r=v(t.dataSourceAvg);return ne(()=>{u.value=t.dataSource,r.value=t.dataSourceAvg,Object.keys(u.value).length>0&&(s.value.total.num=u.value.total_all,s.value.total.tag.num=u.value.all_today,s.value.total.averageDaily.num=Math.ceil(r.value.all_num/r.value.day_num),s.value.daily.num=u.value.total_daily,s.value.daily.tag.num=u.value.daily,s.value.daily.averageDaily.num=Math.ceil(r.value.daily/r.value.day_num),s.value.weekly.num=u.value.total_weekly,s.value.weekly.tag.num=u.value.weekly_today,s.value.weekly.averageDaily.num=Math.ceil(r.value.weekly/r.value.day_num),s.value.monthy.num=u.value.total_monthy,s.value.monthy.tag.num=u.value.monthy_today,s.value.monthy.averageDaily.num=Math.ceil(r.value.monthy/r.value.day_num))}),{overviewListRef:s,getImageUrl:ye}}});const Ut={class:"completed-amount-overview-container"},Pt={class:"completed-amount-overview-ul flex"},Lt={class:"el-card-style","body-style":{padding:"0px"}},jt={class:"flex"},Kt={class:"title-style"},qt={class:"flex-start align-end"},Gt={class:"total-num-style"},zt={class:"tag-box flex-center"},Wt={class:"flex-start"},Qt={class:"average-daily-title-style"},Zt={class:"average-daily-num-style"};function Ht(t,s,u,r,l,y){const m=P("el-image");return i(),d("div",Ut,[e("ul",Pt,[(i(!0),d(E,null,A(t.overviewListRef,(o,p)=>(i(),d("li",{key:p,class:"completed-amount-overview-li"},[e("div",Lt,[e("header",jt,[e("p",Kt,a(o.title),1),I(m,{class:"header-icon-style",src:t.getImageUrl(o.icon+".png")},null,8,["src"])]),e("article",qt,[e("p",Gt,a(o.num),1),e("div",zt,[e("p",null,a(o.tag.title),1),e("p",null,a(o.tag.num),1)])]),e("footer",Wt,[e("p",Qt,a(o.averageDaily.title),1),e("p",Zt,a(o.averageDaily.num),1)])])]))),128))])])}const Jt=R(Ot,[["render",Ht],["__scopeId","data-v-125c5b3d"],["__file","E:/work/parents_school_institution_pc/src/views/dataCenter/studyReportForm/components/CompletedAmountOverview/CompletedAmountOverview.vue"]]);const Y=t=>(N("data-v-464e34a5"),t=t(),O(),t),Xt={class:"grade-class-rank-container"},ea={class:"rank-left"},ta={class:"rank-img",src:z,alt:""},aa={class:"rank-img",src:W,alt:""},sa={class:"rank-img",src:Q,alt:""},oa={class:"rank-cic"},la=Y(()=>e("img",{class:"six-img",src:Z,alt:""},null,-1)),ca={class:"rank-num"},na={class:"right-data-wrap"},ia={class:"progress-complete"},da={class:"progress-box"},ra={class:"flex"},ua={class:"gc-char"},ma={class:"cp-char"},_a={key:0,class:"progress"},ha={class:"fire-icon",src:T,alt:"fire"},va={class:"progress"},ya={class:"fire-icon",src:T,alt:"fire"},pa={class:"progress"},fa={class:"fire-icon",src:T,alt:"fire"},ga={key:0,class:"per-char"},ka={key:1,class:"per-char"},wa={key:2,class:"per-char"},Ia={class:"data-box flex"},$a={class:"data-detail-wrap"},Ca=Y(()=>e("span",{class:"data-char"},"\u6570\u636E\u6982\u89C8",-1)),xa={class:"data-item"},Da={class:"num-char"},ba=Y(()=>e("div",{class:"char"},"\u5B66\u4E60\u4EBA\u6B21",-1)),Sa={class:"data-item"},Ma={class:"num-char"},Ya=Y(()=>e("div",{class:"char"},"\u73ED\u7EA7\u4EBA\u6570",-1)),Ea={class:"data-item"},Aa={class:"num-char"},Fa={class:"char"},Ra={class:"data-item"},Ta={class:"num-char"},Ba=Y(()=>e("div",{class:"char"},"\u6BCF\u65E5\u4E00\u5B66",-1)),Va={class:"data-item"},Na={class:"num-char"},Oa=Y(()=>e("div",{class:"char"},"\u6BCF\u5468\u4E00\u505A",-1)),Ua={class:"data-item"},Pa={class:"num-char"},La=Y(()=>e("div",{class:"char nomar"},"\u6BCF\u6708\u4E00\u8BFE",-1)),ja={__name:"ClassRankForComplete",props:{completeItem:{type:Object},completeIndex:{type:Number,default:0},rankMode:{type:Number,default:1},studyType:{type:String,default:""}},setup(t){const s=r=>Math.ceil(Number(r)*100),u=(r,l)=>({isUp:r-l>0,isShow:r-l!=0,numAbs:Math.abs(r-l)});return(r,l)=>(i(),d("div",Xt,[e("div",ea,[c(e("img",ta,null,512),[[n,t.completeIndex==0]]),c(e("img",aa,null,512),[[n,t.completeIndex==1]]),c(e("img",sa,null,512),[[n,t.completeIndex==2]]),c(e("div",oa,[la,e("span",ca,a(t.completeIndex+1),1)],512),[[n,t.completeIndex>2]]),c(e("div",{class:L(["ranked-tag",u(t.completeItem.rank_index_last,t.completeItem.rank_index).isUp?"":"green"])}," \u8F83\u4E0A"+a(t.rankMode==1?"\u5468":"\u6708")+a(u(t.completeItem.rank_index_last,t.completeItem.rank_index).isUp?"\u4E0A\u5347":"\u4E0B\u964D")+a(u(t.completeItem.rank_index_last,t.completeItem.rank_index).numAbs)+"\u540D ",3),[[n,u(t.completeItem.rank_index_last,t.completeItem.rank_index).isShow]])]),e("div",na,[e("div",ia,[e("div",da,[e("div",ra,[e("span",ua,a(F(H)(t.completeItem.year).name)+"("+a(t.completeItem.class_id)+")\u73ED",1),e("span",ma,"\u672C"+a(t.rankMode==1?"\u5468":"\u6708")+"\u5B66\u4E60\u5B8C\u6210\u7387",1)]),t.studyType=="daily"?(i(),d("div",_a,[e("div",{class:"progress-active",style:D(`width: ${s(t.completeItem.daily_parent_ratio)>=100?100:s(t.completeItem.daily_parent_ratio)}%`)},null,4),c(e("img",ha,null,512),[[n,s(t.completeItem.daily_parent_ratio)>=100]])])):h("v-if",!0),c(e("div",va,[e("div",{class:"progress-active",style:D(`width: ${s(t.completeItem.weekly_parent_ratio)>=100?100:s(t.completeItem.weekly_parent_ratio)}%`)},null,4),c(e("img",ya,null,512),[[n,s(t.completeItem.weekly_parent_ratio)>=100]])],512),[[n,t.studyType=="weekly"]]),c(e("div",pa,[e("div",{class:"progress-active",style:D(`width: ${s(t.completeItem.monthy_parent_ratio)>=100?100:s(t.completeItem.monthy_parent_ratio)}%`)},null,4),c(e("img",fa,null,512),[[n,s(t.completeItem.monthy_parent_ratio)>=100]])],512),[[n,t.studyType=="monthy"]])]),t.studyType=="daily"?(i(),d("span",ga,a(s(t.completeItem.daily_parent_ratio))+"%",1)):h("v-if",!0),t.studyType=="weekly"?(i(),d("span",ka,a(s(t.completeItem.weekly_parent_ratio))+"%",1)):h("v-if",!0),t.studyType=="monthy"?(i(),d("span",wa,a(s(t.completeItem.monthy_parent_ratio))+"%",1)):h("v-if",!0)]),e("div",Ia,[e("div",$a,[Ca,e("div",xa,[e("div",Da,a(t.completeItem.complete_parent),1),ba]),e("div",Sa,[e("div",Ma,a(t.completeItem.student_num),1),Ya]),e("div",Ea,[e("div",Aa,a(t.completeItem.rank_index_last),1),e("div",Fa,a(t.rankMode==1?"\u4E0A\u5468\u6392\u540D":"\u4E0A\u6708\u6392\u540D"),1)]),h(` <div class="data-item">\r
            <div class="num-char">0</div>\r
            <div class="char">\u4E0A\u6708\u6392\u540D</div>\r
          </div> `),e("div",Ra,[e("div",Ta,a(s(t.completeItem.daily_parent_ratio))+"% ",1),Ba]),e("div",Va,[e("div",Na,a(s(t.completeItem.weekly_parent_ratio))+"% ",1),Oa]),e("div",Ua,[e("div",Pa,a(s(t.completeItem.monthy_parent_ratio))+"% ",1),La])])])])]))}},Ka=R(ja,[["__scopeId","data-v-464e34a5"],["__file","E:/work/parents_school_institution_pc/src/views/dataCenter/studyReportForm/components/ClassRankForComplete.vue"]]);const qa={},X=t=>(N("data-v-ce125907"),t=t(),O(),t),Ga={class:"nodata-status-container"},za=X(()=>e("img",{class:"nodata-img",src:pe,alt:""},null,-1)),Wa=X(()=>e("span",{class:"nodata-char"},"\u6682\u65E0\u6570\u636E\u5185\u5BB9\uFF0C\u770B\u770B\u5176\u4ED6\u7684\u5427~",-1)),Qa=[za,Wa];function Za(t,s){return i(),d("div",Ga,Qa)}const Ha=R(qa,[["render",Za],["__scopeId","data-v-ce125907"],["__file","E:/work/parents_school_institution_pc/src/views/dataCenter/studyReportForm/components/NodataStatus.vue"]]);const ee=t=>(N("data-v-463bd650"),t=t(),O(),t),Ja={class:"study-report-container"},Xa={class:"all-wrap"},es={class:"sort-wrap"},ts={class:"title-time"},as=ee(()=>e("span",{class:"study-tit"},"\u5B66\u4E60\u5B8C\u6210\u699C",-1)),ss={class:"time-char"},os=ee(()=>e("span",{class:"o-char"},"\u5206\u7C7B\uFF1A",-1)),ls=["onClick"],cs={key:0,class:"date-picker-wrap"},ns={key:1,class:"date-picker-wrap"},is={key:0,class:"data-wrap"},ds={key:0},rs={key:1},us={__name:"studyReportForm",setup(t){const{studyDashboardCompleteCountRef:s,studyDashboardCompleteDailyRef:u}=Nt(),r=[{sortKey:1,sortItem:[{id:"grade",name:"\u5E74\u6BB5\u6392\u540D"},{id:"class",name:"\u73ED\u7EA7\u6392\u540D"}]},{sortKey:2,sortItem:[{id:"daily",name:"\u6BCF\u65E5\u4E00\u5B66"},{id:"weekly",name:"\u6BCF\u5468\u4E00\u505A"},{id:"monthy",name:"\u6BCF\u6708\u4E00\u8BFE"}]},{sortKey:3,sortItem:[{id:2,name:"\u6708\u699C"},{id:1,name:"\u5468\u699C"}]}],l=v(["grade","daily",2]),y=v(""),m=v(""),o=v(""),p=v(""),f=(C,S)=>{l.value[C-1]=S,U()},g=v(""),$=v(""),_=C=>{o.value=x(C).add(1,"day").format("YYYY-MM-DD"),p.value=x(C).add(7,"day").format("YYYY-MM-DD"),U()},b=C=>{y.value=x(C).format("YYYY-MM-01"),m.value=x(y.value).add(1,"month").format("YYYY-MM-DD"),U()},B=v([]),U=async()=>{const C={school_id:V().schoolInfo.id,limit:30,page:1,rank_mode:l.value[0],start_date:l.value[2]==2?y.value:o.value,end_date:l.value[2]==2?m.value:p.value,study_type:l.value[1]},S=await G(C);B.value=S},j=v("");return q(()=>{j.value=x().format("YYYY\u5E74MM\u6708DD\u65E5"),m.value=x().format("YYYY-MM-01"),y.value=x(m.value).subtract(1,"month").format("YYYY-MM-DD"),p.value=x().isoWeekday(0).format("YYYY-MM-DD"),o.value=x(p.value).subtract(6,"day").format("YYYY-MM-DD"),U()}),(C,S)=>{const K=P("el-date-picker");return i(),d("div",Ja,[e("div",null,[h(" <FourDataView></FourDataView> "),h(" \u5B8C\u6210\u91CF\u6982\u89C8 "),I(Jt,{dataSource:F(s),dataSourceAvg:F(u)},null,8,["dataSource","dataSourceAvg"]),e("div",Xa,[I(Ce)]),e("div",es,[e("div",ts,[as,e("span",ss,"\u66F4\u65B0\u65F6\u95F4\uFF1A"+a(j.value),1)]),(i(),d(E,null,A(r,k=>e("div",{class:"sort-sec",key:k.sortKey},[os,(i(!0),d(E,null,A(k.sortItem,w=>(i(),d("div",{class:L(["lab-item",l.value[k.sortKey-1]==w.id?"active":""]),onClick:ms=>f(k.sortKey,w.id),key:w.id},a(w.name),11,ls))),128))])),64)),l.value[2]==1?(i(),d("div",cs,[h(` <el-date-picker v-model="value1" style="width:400px;" type="daterange" align="right"\r
                        range-separator="~" start-placeholder="\u5468\u5F00\u59CB\u65E5\u671F" end-placeholder="\u5468\u7ED3\u675F\u65E5\u671F">\r
                    </el-date-picker> `),I(K,{modelValue:g.value,"onUpdate:modelValue":S[0]||(S[0]=k=>g.value=k),onChange:_,type:"week",format:"YYYY \u7B2C ww \u5468",placeholder:"\u9009\u62E9\u5468"},null,8,["modelValue"])])):h("v-if",!0),l.value[2]==2?(i(),d("div",ns,[I(K,{modelValue:$.value,"onUpdate:modelValue":S[1]||(S[1]=k=>$.value=k),type:"month",placeholder:"\u9009\u62E9\u6708",onChange:b},null,8,["modelValue"])])):h("v-if",!0)]),B.value&&B.value.length?(i(),d("div",is,[l.value[0]=="grade"?(i(),d("div",ds,[(i(!0),d(E,null,A(B.value,(k,w)=>(i(),d("div",{class:"mar-wrap",key:w},[I(Vt,{completeItem:k,completeIndex:w,startDate:l.value[2]==2?y.value:o.value,endDate:l.value[2]==2?m.value:p.value,studyType:l.value[1],rankMode:l.value[2]},null,8,["completeItem","completeIndex","startDate","endDate","studyType","rankMode"])]))),128))])):h("v-if",!0),l.value[0]=="class"?(i(),d("div",rs,[(i(!0),d(E,null,A(B.value,(k,w)=>(i(),d("div",{class:"mar-wrap",key:w},[I(Ka,{completeItem:k,completeIndex:w,rankMode:l.value[2],studyType:l.value[1]},null,8,["completeItem","completeIndex","rankMode","studyType"])]))),128))])):h("v-if",!0)])):(i(),ie(Ha,{key:1}))])])}}},Cs=R(us,[["__scopeId","data-v-463bd650"],["__file","E:/work/parents_school_institution_pc/src/views/dataCenter/studyReportForm/studyReportForm.vue"]]);export{Cs as default};
