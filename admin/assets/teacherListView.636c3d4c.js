import{_ as D,r as n,s as R,b as l,o as c,c as i,g as s,e as o,w as p,F as q,f as A,t as r,K as w,L as V,i as I,H as E,E as b,v as Y,x as M}from"./index.2bef03c3.js";import{_ as N}from"./login-zh-icon.d552541b.js";import{_ as P,a as F}from"./edit_icon.850ea4e5.js";import{r as U,d as z}from"./teacher.b1418a31.js";import{u as k}from"./school.a4b24b87.js";const h=_=>(Y("data-v-6f9b4e2f"),_=_(),M(),_),H={class:"teacher-list-view-container"},K={class:"top-section flex"},j={class:"flex"},G=I("\u67E5\u8BE2"),J=I("+ \u65B0\u5EFA\u6559\u5E08"),O={class:"ul-style"},Q={class:"li-top"},W=["src"],X={key:1,class:"avatar",src:N,alt:"\u5934\u50CF"},Z={class:"name"},ee={class:"phone-char"},se={class:"flex"},te={class:"yellow-tag"},ae={class:"li-bottom flex"},oe=["onClick"],ne=h(()=>s("img",{class:"icon-img",src:P,alt:"\u5220\u9664"},null,-1)),le=h(()=>s("a",{class:"grey-char"},"\u5220\u9664",-1)),ce=[ne,le],ie=h(()=>s("img",{class:"icon-img",src:F,alt:"\u7F16\u8F91"},null,-1)),re=h(()=>s("span",{class:"grey-char"},"\u7F16\u8F91",-1)),_e={class:"flex-end",style:{"margin-top":"24px"}},de={class:"flex"},pe={class:"record-char"},he={__name:"teacherListView",setup(_){const u=n(""),f=n(""),g=n(1),v=n([]),m=n(0),d=async()=>{const a={school_id:k().schoolInfo.id,page:g.value,limit:8,name:u.value,year:f.value},t=await U(a);v.value=t.data,m.value=t.total};R(()=>{d()});const L=a=>{g.value=a,d()},C=async a=>{const t={school_id:k().schoolInfo.id,id:a};await z(t),d()},S=a=>{E.confirm("\u662F\u5426\u786E\u8BA4\u5220\u9664?","\u63D0\u793A",{confirmButtonText:"\u662F",cancelButtonText:"\u5426",type:"warning"}).then(async()=>{await C(a),b({type:"success",message:"\u5220\u9664\u6210\u529F\uFF01"})}).catch(()=>{b({type:"info",message:"\u5220\u9664\u53D6\u6D88\uFF01"})})};return(a,t)=>{const T=l("el-input"),$=l("el-date-picker"),x=l("el-button"),y=l("router-link"),B=l("el-pagination");return c(),i("div",H,[s("div",K,[s("div",j,[o(T,{style:{width:"280px","margin-right":"24px"},modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),class:"m-2",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u8001\u5E08\u540D\u5B57"},null,8,["modelValue"]),o($,{style:{width:"160px","margin-right":"24px"},modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),type:"year","value-format":"YYYY",placeholder:"\u8BF7\u9009\u62E9\u5165\u5B66\u5E74\u4EFD"},null,8,["modelValue"]),o(x,{class:"add-btn",onClick:d},{default:p(()=>[G]),_:1})]),o(y,{to:"/teacherAddView"},{default:p(()=>[o(x,{class:"add-btn"},{default:p(()=>[J]),_:1})]),_:1})]),s("ul",O,[(c(!0),i(q,null,A(v.value,e=>(c(),i("li",{class:"li-style",key:e.id},[s("div",Q,[e.img?(c(),i("img",{key:0,class:"avatar",src:e.img,alt:"\u5934\u50CF"},null,8,W)):(c(),i("img",X)),s("span",Z,r(e.name),1),s("span",ee,r(e.gender==1?"\u7537":"\u5973")+" \u4E28 "+r(e.phone),1),s("div",se,[w(s("div",{class:"blue-tag"},r(e.info),513),[[V,e.info]]),w(s("div",te,"\u73ED\u4E3B\u4EFB",512),[[V,e.is_master]])])]),s("div",ae,[s("div",{class:"flex-center flex1 bor",onClick:ue=>S(e.id)},ce,8,oe),o(y,{to:`/teacherAddView?name=${e.name}&info=${e.info}&img=${e.img}&phone=${e.phone}&gender=${e.gender}&id=${e.id}`,class:"flex-center flex1"},{default:p(()=>[ie,re]),_:2},1032,["to"])])]))),128))]),s("div",_e,[s("div",de,[s("span",pe,"\u5171"+r(m.value)+"\u6761\u8BB0\u5F55",1),o(B,{"page-size":8,"pager-count":5,onCurrentChange:L,layout:"prev, pager, next",total:m.value},null,8,["total"])])])])}}},ye=D(he,[["__scopeId","data-v-6f9b4e2f"]]);export{ye as default};
