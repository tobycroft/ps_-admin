import{_ as S,d as $,r as u,o as s,c as i,a as _,w as d,u as w,b as m,e as L,F as k,f as R,g,h as a,n as C,t as y,i as b,j as x,k as I,R as j,l as V,m as M}from"./index.5c9dba08.js";import{u as N}from"./user.8040e587.js";import{u as A}from"./school.39248828.js";const B=$({name:"CustomMenu",setup(){const t=w(),h=m(L[0].children),f=m();return{menuListRef:h,activeMenuItem:f,handleMenuTitle:n=>n&&n.meta&&n.meta.title?n.meta.title:"\u672A\u547D\u540D",onSubMenuClick:n=>{console.log("routerPath :>> ",n),f.value=n,t.replace(n)}}}}),E={class:"el-menu-contrainer"},T={key:0},U={key:1};function z(t,h,f,o,r,n){const c=u("el-menu-item"),p=u("el-sub-menu"),v=u("el-menu");return s(),i("div",E,[_(v,{"default-active":"2",class:"el-menu-vertical-demo","background-color":"#2A3764","text-color":"#949ab1","active-text-color":"#fff",onOpen:t.handleOpen,onClose:t.handleClose},{default:d(()=>[(s(!0),i(k,null,R(t.menuListRef,e=>(s(),i("div",{key:e.path},[e.children?(s(),i("div",T,[e.meta.hiden?x("v-if",!0):(s(),g(p,{key:0,index:e.path},{title:d(()=>[a("i",{class:C(["iconfont",e.meta.icon])},null,2),a("span",null,y(t.handleMenuTitle(e)),1)]),default:d(()=>[(s(!0),i(k,null,R(e.children,l=>(s(),i(k,{key:l.path},[l.meta.hiden?x("v-if",!0):(s(),g(c,{key:0,class:C(["menu-item-style",{"active-bg-style":t.activeMenuItem===l.path}]),index:l.path,onClick:P=>t.onSubMenuClick(l.path)},{default:d(()=>[b(y(l.meta.title),1)]),_:2},1032,["class","index","onClick"]))],64))),128))]),_:2},1032,["index"]))])):(s(),i("div",U,[e.meta.hiden?x("v-if",!0):(s(),g(c,{key:0,class:C(["menu-parent-item-style",{"active-bg-style":t.activeMenuItem===e.path}]),index:e.path,onClick:l=>t.onSubMenuClick(e.path)},{default:d(()=>[a("i",{class:C(["iconfont",e.meta.icon])},null,2),b(" "+y(e.meta.title),1)]),_:2},1032,["class","index","onClick"]))]))]))),128))]),_:1},8,["onOpen","onClose"])])}const F=S(B,[["render",z],["__scopeId","data-v-8037b054"],["__file","E:/work/parents_school_institution_pc/src/components/CustomMenu/CustomMenu.vue"]]),O={name:"CustomLayout",components:{CustomMenu:F},setup(){const t=w(),h=A(),f=N(),o=m(),r=m(),n=m(""),c=m(""),p=m(""),v=()=>{console.log("login() :>> ",M()),M().getLoginInfo("",-1,""),t.push({path:"/login"})};return I(()=>{o.value=h.getSchoolInfo,r.value=f.getSchoolUserInfo,o.value.icon&&(n.value=o.value.icon),o.value.name&&(c.value=o.value.name),r.value.wx_img&&(p.value=r.value.wx_img)}),{RouterLink:j,RouterView:V,projectImgRef:n,projectNameRef:c,userAvatarRef:p,schoolUserInfoRef:r,exitSystem:v}}};const D={class:"custom-layout-container"},q={class:"flex"},G={class:"project-info-box flex-start"},H={class:"project-title-style"},J={class:"user-info-box flex-start"},K={class:"user-info-style flex-start"},Q={class:"user-name-style"},W=b("[\u9000\u51FA]"),X={class:"flex-start align-start"},Y={class:"router-view-box"};function Z(t,h,f,o,r,n){const c=u("el-avatar"),p=u("el-button"),v=u("CustomMenu"),e=u("RouterView"),l=u("el-scrollbar");return s(),i("div",D,[a("header",q,[a("div",G,[_(c,{size:28,src:o.projectImgRef},null,8,["src"]),a("p",H,y(o.projectNameRef),1)]),a("div",J,[a("div",K,[_(c,{size:32,src:o.userAvatarRef},null,8,["src"]),a("p",Q,y(o.schoolUserInfoRef.username),1)]),_(p,{class:"exit-btn-style",type:"primary",link:"",onClick:o.exitSystem},{default:d(()=>[W]),_:1},8,["onClick"])])]),a("main",X,[_(v),a("div",Y,[_(l,{class:"el-scroll-bar-style"},{default:d(()=>[_(e)]),_:1})])])])}const ne=S(O,[["render",Z],["__scopeId","data-v-dff97966"],["__file","E:/work/parents_school_institution_pc/src/layout/CustomLayout.vue"]]);export{ne as default};
