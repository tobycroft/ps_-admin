import{_ as Y,H as P,U as T,b as w,v as H,u as M,r as n,o as i,c as p,a as t,w as l,h as f,B as s,F as x,f as I,g as N,i as k,x as Q,y as j}from"./index.1df2a75b.js";import{r as z,b as D,c as G}from"./teacher.3c36b416.js";import{u as _}from"./school.89e429a6.js";import"./request.60c3fc6d.js";const J=u=>(Q("data-v-ab1c40a6"),u=u(),j(),u),K={class:"notice-add-view-container"},O=J(()=>f("div",{class:"card-header"},[f("span",null,"\u7F16\u8F91\u73ED\u7EA7")],-1)),W={class:"flex-center",style:{"padding-top":"20px"}},X=k("\u91CD\u7F6E"),Z=k("\u5B8C\u6210"),$={__name:"classEditView",setup(u){let d=P().query;console.log(d);let e=T({title:"",year:"",teacherName:"",class_id:"",teacher_id:"",num:""});const m=w(0),q=()=>{d.id&&(e.title=d.title,e.year=d.year,e.teacherName=d.name,e.teacher_id=Number(d.teacher_id),e.class_id=Number(d.class_id),e.num=Number(d.num),m.value=Number(d.id))},C=_().classList,h=w([]),g=async()=>{const c={teacher_id:e.teacher_id||0,year:e.year,class_id:e.class_id||0,title:e.title,content:"",num:e.num||0,school_id:_().schoolInfo.id};await D(c)},E=async()=>{const c={teacher_id:e.teacher_id,year:e.year,class_id:e.class_id,id:m.value,num:e.num||0,title:e.title,school_id:_().schoolInfo.id};await G(c)},L=async()=>{const c={school_id:_().schoolInfo.id,page:1,limit:999},o=await z(c);h.value=o.data};H(()=>{q(),L()});const A=M(),S=async()=>{m.value?await E():await g(),A.push({path:"/classEditSuccessView"})},U=()=>{e.year="",e.title="",e.teacherName="",e.teacher_id=0,e.class_id=0};return(c,o)=>{const y=n("el-input"),r=n("el-form-item"),B=n("el-date-picker"),b=n("el-option"),V=n("el-select"),v=n("el-button"),F=n("el-form"),R=n("el-card");return i(),p("div",K,[t(R,{class:"box-card"},{header:l(()=>[O]),default:l(()=>[f("div",W,[t(F,{"label-position":"left","label-width":"100px",model:s(e),style:{width:"540px"},ref:"ruleFormRef"},{default:l(()=>[t(r,{label:"\u73ED\u7EA7\u540D\u79F0\uFF1A"},{default:l(()=>[t(y,{modelValue:s(e).title,"onUpdate:modelValue":o[0]||(o[0]=a=>s(e).title=a),placeholder:"\u8BF7\u8F93\u5165\u73ED\u7EA7\u540D\u79F0"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u73ED\u7EA7\u4EBA\u6570\uFF1A"},{default:l(()=>[t(y,{type:"number",modelValue:s(e).num,"onUpdate:modelValue":o[1]||(o[1]=a=>s(e).num=a),placeholder:"\u8BF7\u8F93\u5165\u73ED\u7EA7\u4EBA\u6570"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u5165\u5B66\u5E74\u4EFD"},{default:l(()=>[t(B,{style:{width:"100%"},modelValue:s(e).year,"onUpdate:modelValue":o[2]||(o[2]=a=>s(e).year=a),type:"year","value-format":"YYYY",placeholder:"\u8BF7\u9009\u62E9\u5165\u5B66\u5E74\u4EFD"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u73ED\u7EA7\uFF1A"},{default:l(()=>[t(V,{style:{width:"100%"},modelValue:s(e).class_id,"onUpdate:modelValue":o[3]||(o[3]=a=>s(e).class_id=a),class:"m-2",placeholder:"\u8BF7\u9009\u62E9\u73ED\u7EA7"},{default:l(()=>[(i(!0),p(x,null,I(s(C),a=>(i(),N(b,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"\u73ED\u4E3B\u4EFB\uFF1A"},{default:l(()=>[t(V,{style:{width:"100%"},modelValue:s(e).teacher_id,"onUpdate:modelValue":o[4]||(o[4]=a=>s(e).teacher_id=a),class:"m-2",placeholder:"\u8BF7\u9009\u62E9\u73ED\u4E3B\u4EFB"},{default:l(()=>[(i(!0),p(x,null,I(h.value,a=>(i(),N(b,{key:a.name,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(r,null,{default:l(()=>[t(v,{onClick:U},{default:l(()=>[X]),_:1}),t(v,{type:"primary",onClick:S},{default:l(()=>[Z]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})])}}},se=Y($,[["__scopeId","data-v-ab1c40a6"]]);export{se as default};
